(()=>{"use strict";var e,t={44375:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,i,a){return i&&e(t.prototype,i),a&&e(t,a),t}}();t.Player=function(){function e(t,i,a,s){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i,a,s));return r.cameraScroll=t.cameraScroll,t.physics.add.existing(r),r.body.setSize(5,5),r.playerSpeed=2,r.stamina=5,r.animationKey="walk",r.facingDirection={x:0,y:-1},r.fovAngle=120,r.fovDistance=150,r.createEmitters(t),t.time.addEvent({delay:1e3,callback:function(){r.keys.shift.isDown&&r.stamina>0?r.setStamina(r.stamina-.5):!r.keys.shift.isDown&&r.stamina<5&&r.setStamina(r.stamina+.2)},repeat:-1}),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(e,Phaser.Physics.Arcade.Sprite),i(e,[{key:"update",value:function(e,t,i){this.keys=e,this.y<195+this.cameraScroll?this.animationKey="swim":this.animationKey="walk";var a=!1,s=0,r=0;if(e.left.isDown?(this.x-=this.playerSpeed,this.flipX=!0,this.anims.play(this.animationKey,!0),s=-1,a=!0):e.right.isDown&&(this.x+=this.playerSpeed,this.flipX=!1,this.anims.play(this.animationKey,!0),s=1,a=!0),e.up.isDown?(this.y-=this.playerSpeed,this.anims.play(this.animationKey,!0),r=-1,a=!0):e.down.isDown&&(this.y+=this.playerSpeed,this.anims.play(this.animationKey,!0),r=1,a=!0),a){var n=Math.sqrt(s*s+r*r);n>0&&(this.facingDirection.x=s/n,this.facingDirection.y=r/n)}e.left.isDown||e.right.isDown||e.up.isDown||e.down.isDown||"walk"===this.animationKey&&(this.anims.play("player-idle",!0),this.sandEmitter.stop()),e.shift.isDown&&this.stamina>0?(this.playerSpeed=30*i/1e3*2.5,"walk"===this.animationKey&&this.sandEmitter.emitParticle()):this.playerSpeed=30*i/1e3*2}},{key:"createEmitters",value:function(e){this.sandEmitter=e.add.particles("sand").createEmitter({speed:10,maxParticles:70,lifespan:300}),this.sandEmitter.startFollow(this,-1,6)}},{key:"setStamina",value:function(e){e<0?e=0:e>5&&(e=5),this.stamina=e,this.scene.displayStamina()}},{key:"isInFieldOfView",value:function(e,t){var i=e-this.x,a=t-this.y,s=Math.sqrt(i*i+a*a);if(s>this.fovDistance)return!1;if(s<30)return!0;var r=i/s,n=a/s,o=this.facingDirection.x*r+this.facingDirection.y*n,h=this.fovAngle/2*(Math.PI/180);return o>=Math.cos(h)}}]),e}()},49634:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,i,a){return i&&e(t.prototype,i),a&&e(t,a),t}}();t.SmartVisitor=function(){function e(t,i,a,s){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i,a,s));t.physics.add.existing(r),r.cameraScroll=t.cameraScroll,r.state="resting",r.saveBounty=0,r.bounty=r.saveBounty,r.origin={x:i,y:a},r.chanceToDrown=.003,r.speed=.8,r.topSpeed=.8,r.walkSpeed=.7,r.swimSpeed=.5,r.canMakeDecisions=!1,r.targetLocation={},r.blanket=t.add.image(r.x,r.y,"blanket"),r.blanket.setDepth(0),r.maxHealth=5,r.health=r.maxHealth,r.healthDisplay=r.scene.add.text(-100,-100,".".repeat(Math.floor(r.health)));var n=t.time.addEvent({delay:1e3,callback:function(){"drowning"===r.state&&r.health>0&&(r.health-=.5,r.healthDisplay.setText(".".repeat(Math.floor(r.health)))),0===r.health&&(r.destroy(),n.destroy(),t.deaths++,t.deaths>t.maxDeaths&&(t.deaths=t.maxDeaths),t.displayDeaths())},repeat:-1});return t.time.addEvent({delay:1e3,callback:function(){if(r.canMakeDecisions)switch(r.state){case"resting":r.speed=r.topSpeed,r.percentage(15)?(r.state="go-swimming",r.pickSwimmingLocation()):r.percentage(10)&&(r.state="walking",r.speed=r.walkSpeed,r.pickBeachLocation());break;case"swimming":r.speed=r.swimSpeed,r.percentage(1)?r.state="drowning":r.percentage(15)?(r.state="go-swimming",r.pickSwimmingLocation(!0)):r.percentage(50)&&(r.state="go-resting",r.returnToBlanket());break;case"returning":break;case"idle":r.percentage(15)?(r.state="walking",r.pickBeachLocation()):r.percentage(50)&&(r.state="returning",r.returnToBlanket())}},repeat:-1}),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(e,Phaser.Physics.Arcade.Sprite),i(e,[{key:"update",value:function(e,t){this.actOnDecision(),"drowning"===this.state&&(this.healthDisplay.visible=!0,this.healthDisplay.x=this.x,this.healthDisplay.y=this.y,this.targetLocation={}),this.y<190+this.cameraScroll?"drowning"===this.state?this.play("visitor-2-drowning-2",!0):this.play("drowning",!0):"idle"===this.state?this.play("visitor-idle"):"resting"!==this.state?(this.targetLocation.x>this.x?this.flipX=!1:this.flipX=!0,this.play("visitor-walk",!0),this.donut&&this.donut.destroy()):"resting"===this.state&&this.play("visitor-"+this.type+"-resting",!0)}},{key:"pickSwimmingLocation",value:function(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0]){var e=Phaser.Math.Between(-40,40),t=Phaser.Math.Between(-40,40);this.x+e>0&&this.x+e<400?this.targetLocation.x=this.x+e:this.targetLocation.x=this.x,this.y+t<200+this.cameraScroll&&this.y+t>this.cameraScroll?this.targetLocation.y=this.y+t:this.targetLocation.y=this.y}else this.targetLocation.x=Phaser.Math.Between(0,400),this.targetLocation.y=Phaser.Math.Between(20+this.scene.cameraScroll,200+this.scene.cameraScroll)}},{key:"pickBeachLocation",value:function(){this.targetLocation.x=Phaser.Math.Between(0,400),this.targetLocation.y=Phaser.Math.Between(200+this.scene.cameraScroll,300+this.scene.cameraScroll)}},{key:"actOnDecision",value:function(){Object.keys(this.targetLocation).length>0&&(this.goTo(this.targetLocation),"go-swimming"!==this.state&&"walking"!==this.state||!this.arrived(this.targetLocation)||(this.targetLocation={},"go-swimming"===this.state&&(this.state="swimming"),"walking"===this.state&&(this.state="idle")),"returning"===this.state&&this.arrived(this.targetLocation)&&(this.donut&&this.donut.destroy(),this.state="resting",this.targetLocation={},this.canMakeDecisions=!0,this.bounty=this.saveBounty,this.chanceToDrown-=.001,this.play("visitor-2-resting",!0),Math.random()>.5&&(this.flipX=!0),this.health=this.maxHealth,this.healthDisplay.setText(".".repeat(Math.floor(this.health)))),"returning"===this.state&&this.donut&&(this.donut.y=this.y,this.donut.x=this.x,this.healthDisplay.visible=!1))}},{key:"arrived",value:function(e){var t=Math.floor(this.x),i=Math.floor(this.y);return!(![t-1,t,t+1].includes(Math.floor(e.x))||![i-1,i,i+1].includes(Math.floor(e.y)))}},{key:"goTo",value:function(e){var t=e.x-this.x,i=e.y-this.y,a=Math.sqrt(t*t+i*i);t/=a,i/=a,isNaN(t)||isNaN(i)||(this.x+=t*this.speed,this.y+=i*this.speed)}},{key:"returnToBlanket",value:function(){this.state="returning",this.targetLocation={x:this.blanket.x,y:this.blanket.y}}},{key:"percentage",value:function(e){return Phaser.Math.Between(0,100)<e}}]),e}()},47590:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,i,a){return i&&e(t.prototype,i),a&&e(t,a),t}}();t.TextButton=function(){function e(t,i,a,s,r,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var h=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i,a,s,r,n));return h.setInteractive({useHandCursor:!0}).on("pointerover",(function(){return h.enterButtonHoverState()})).on("pointerout",(function(){return h.enterButtonRestState()})).on("pointerdown",(function(){return h.enterButtonActiveState()})).on("pointerup",(function(){h.enterButtonHoverState(),o()})),h}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(e,Phaser.GameObjects.BitmapText),i(e,[{key:"enterButtonActiveState",value:function(){this.setStyle({fill:"#0ff"})}},{key:"enterButtonHoverState",value:function(){this.setStyle({fill:"#0ff"})}},{key:"enterButtonRestState",value:function(){this.setStyle({fill:"#0f0"})}}]),e}()},45851:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,i,a){return i&&e(t.prototype,i),a&&e(t,a),t}}();t.Wave=function(){function e(t,i,a,s){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i,a,s));return t.physics.add.existing(r),t.add.existing(r),r.cameraScroll=t.cameraScroll,r.destination=null,r.setVisible(!1),r.setActive(!1),r.state="start",r.drowny=!0,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(e,Phaser.Physics.Arcade.Sprite),i(e,[{key:"start",value:function(){this.x=Phaser.Math.Between(0,400),this.y=Phaser.Math.Between(this.cameraScroll-50,125+this.cameraScroll),this.setActive(!0),this.setVisible(!0),this.play("wave-start"),this.drowny=!0,this.destination={x:this.x,y:this.y+70}}},{key:"update",value:function(){this.destination&&Math.floor(this.y)!==this.destination.y?(this.y+=.8,this.play("wave-moving",!0),this.state="moving",Phaser.Math.Difference(this.y,this.destination.y)<15&&(this.play("wave-end"),this.drowny=!1)):this.destination&&Math.floor(this.y)===this.destination.y&&(this.state="end",this.setVisible(!1),this.setActive(!1),this.destination=null)}}]),e}()},36954:(e,t,i)=>{i(86556);var a=i(77864),s=i(84586),r={type:Phaser.AUTO,width:400,height:300,scene:[s.MenuScene,a.BeachScene],zoom:2,render:{pixelArt:!0},physics:{default:"arcade",arcade:{debug:!1}}};new Phaser.Game(r)},77864:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BeachScene=void 0;var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,i,a){return i&&e(t.prototype,i),a&&e(t,a),t}}(),s=i(44375),r=i(49634),n=i(45851);t.BeachScene=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{key:"BeachScene"}))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(e,Phaser.Scene),a(e,[{key:"create",value:function(e){var t=this;this.runIntro=!1,this.audio=this.sound.add("waves"),this.audio.isPlaying||this.audio.play({loop:!0}),this.whistleSound=this.sound.add("whistle"),this.cameraScroll=250,this.gameStarted=!1,this.deaths=0,this.maxDeaths=5,this.dayEndsAt=16,this.dayNumber=e.dayNumber?e.dayNumber:1,this.saveBounty=9+this.dayNumber,this.bg=this.add.image(0,0,"bg").setOrigin(0),this.addClouds(e),this.menuScene=this.scene.get("MenuScene"),this.visitors=this.physics.add.group(),this.generateVisitors(6+this.dayNumber+Phaser.Math.Between(0,this.dayNumber)),this.waves=this.physics.add.group(),this.generateWaves(),this.player=new s.Player(this,300,250+this.cameraScroll,"player"),this.add.existing(this.player),this.score=e.score?e.score:0,this.scoreDisplay=this.add.bitmapText(10,10+this.cameraScroll,"gameFont",this.score,16),this.dayTimer=28800,this.dayTimerDisplay=this.add.bitmapText(310,10+this.cameraScroll,"gameFont",this.getTimerDisplay(this.dayTimer),16),this.dayTimerDisplay.visible=!1,this.gameOverDisplay=this.add.bitmapText(100,100+this.cameraScroll,"gameFont","GAME OVER",24),this.gameOverDisplay.visible=!1,this.introTextDisplay=this.add.bitmapText(145,100,"gameFont","Day "+this.dayNumber,24),this.introTextDisplay.alpha=0,this.startDay();var i=this.time.addEvent({delay:1e3,callback:function(){!0===t.gameStarted&&(t.dayTimer+=900,t.dayTimerDisplay.setText(t.getTimerDisplay(t.dayTimer)),Math.floor(t.dayTimer/3600)===t.dayEndsAt&&(i.destroy(),t.nextLevel()),t.percentage(100)&&t.waves.get().start())},repeat:-1});1===this.dayNumber&&this.createAnimations(),this.cornCart=this.physics.add.sprite(500,290+this.cameraScroll,"corn-cart"),this.cornCartRunning=!1,this.physics.add.overlap(this.player,this.visitors,(function(e,i){"drowning"===i.state&&(t.score+=i.bounty,t.scoreDisplay.setText(t.score),i.bounty=0,i.z=1,i.donut=t.add.image(i.x,i.y+1,"donut"),"returning"!==i.state&&i.returnToBlanket())}),null,this),this.physics.add.overlap(this.player,this.smartVisitor,(function(e,i){"drowning"===i.state&&(t.score+=i.bounty,t.scoreDisplay.setText(t.score),i.bounty=0,i.z=1,i.donut=t.add.image(i.x,i.y+1,"donut"),"returning"!==i.state&&i.returnToBlanket())})),this.physics.add.overlap(this.player,this.cornCart,(function(){t.player.stamina+=2.5,t.player.stamina>5&&(t.player.stamina=5),t.displayStamina()})),this.physics.add.overlap(this.visitors,this.waves,(function(e,t){!t.drowny||"swimming"!==e.state&&"go-swimming"!==e.state||(e.state="drowning")})),this.cursors=this.input.keyboard.createCursorKeys(),this.scoreDisplay.visible=!1,this.staminaBar=this.add.sprite(130,19+this.cameraScroll,"stamina-bar",0).setVisible(!1)}},{key:"displayStamina",value:function(){this.staminaBar.setTexture("stamina-bar",5-Math.floor(this.player.stamina))}},{key:"displayDeaths",value:function(){for(var e=0;e<5-this.deaths;e++)this.add.image(80+8*e,17+this.cameraScroll,"visitor-lifebar").setScale(.9);for(var t=5-this.deaths;t<5;t++)this.add.image(80+8*t,17+this.cameraScroll,"visitor-lifebar").setScale(.9).setTint(5592405)}},{key:"update",value:function(e,t){var i=this;this.player.update(this.cursors,e,t),this.visitors.runChildUpdate=!0,this.waves.runChildUpdate=!0,this.sendCornCart(),this.gameOver(),!0===this.runIntro&&this.scrollCamera(),this.cameras.main.scrollY<130&&(this.menuScene.moveCloud(this.cloud1,this.cloud1reflection),this.menuScene.moveCloud(this.cloud2,this.cloud2reflection)),this.visitors.children.iterate((function(e){if(e.depth=e.y,i.gameStarted&&e.active){var t=i.player.isInFieldOfView(e.x,e.y);e.setVisible(t),e.blanket&&e.blanket.setVisible(t),e.healthDisplay&&e.healthDisplay.setVisible(t&&"drowning"===e.state),e.donut&&e.donut.setVisible(t)}}))}},{key:"generateWaves",value:function(){for(var e=0;e<15;e++){var t=new n.Wave(this,0,0+this.cameraScroll,"wave");this.waves.add(t)}}},{key:"scrollCamera",value:function(){250!==this.cameras.main.scrollY?this.cameras.main.scrollY+=1:!1===this.gameStarted&&(this.visitors.getChildren().forEach((function(e){e.canMakeDecisions=!0})),this.runIntro=!1,this.gameStarted=!0,this.physics.world.setBounds(0,250,400,300),this.player.setCollideWorldBounds(!0),this.scoreDisplay.visible=!0,this.dayTimerDisplay.visible=!0,this.displayDeaths(),this.staminaBar.setVisible(!0),this.displayStamina())}},{key:"gameOver",value:function(){this.deaths>=5&&(this.scene.manager.pause("BeachScene"),this.gameOverDisplay.visible=!0)}},{key:"sendCornCart",value:function(){var e=this;!1===this.cornCartRunning&&(this.cornCartRunning=!0,this.cornCart.play("corn-cart-rides"),this.physics.moveTo(this.cornCart,0,290+this.cameraScroll,40)),Math.floor(this.cornCart.x)<=0&&(this.cornCart.setVelocity(0,0),this.cornCart.x=500,this.time.addEvent({delay:Phaser.Math.Between(15e3,3e4),callback:function(){return e.cornCartRunning=!1}}))}},{key:"createAnimations",value:function(){this.anims.create({key:"visitor-walk",frames:this.anims.generateFrameNames("visitor-2-walk",{start:0,end:3}),frameRate:10,repeat:-1}),this.anims.create({key:"drowning",frames:this.anims.generateFrameNames("visitor-drowning",{start:0,end:1}),frameRate:4,repeat:1}),this.anims.create({key:"visitor-1-resting",frames:this.anims.generateFrameNames("visitor-1-resting",{start:0})}),this.anims.create({key:"visitor-2-resting",frames:this.anims.generateFrameNames("visitor-2-resting",{start:0})}),this.anims.create({key:"visitor-2-drowning-2",frames:this.anims.generateFrameNames("visitor-2-drowning-2",{start:0,end:5}),frameRate:6}),this.anims.create({key:"corn-cart-rides",frames:this.anims.generateFrameNames("corn-cart",{start:0,end:2}),repeat:-1}),this.anims.create({key:"walk",frames:this.anims.generateFrameNames("player",{start:0,end:3}),frameRate:10,repeat:-1}),this.anims.create({key:"player-idle",frames:this.anims.generateFrameNames("player-idle",{start:0,end:5}),frameRate:2,repeat:-1}),this.anims.create({key:"swim",frames:this.anims.generateFrameNames("player-swim",{start:0,end:3}),frameRate:9,repeat:-1}),this.anims.create({key:"visitor-idle",frames:this.anims.generateFrameNames("visitor-2-walk",{end:0}),frameRate:0}),this.anims.create({key:"wave-start",frames:this.anims.generateFrameNames("wave",{end:0}),frameRate:0}),this.anims.create({key:"wave-end",frames:this.anims.generateFrameNames("wave",{start:11}),frameRate:0}),this.anims.create({key:"wave-moving",frames:this.anims.generateFrameNames("wave",{start:0,end:11}),frameRate:8,repeat:1}),this.anims.create({key:"stamina-bar",frames:this.anims.generateFrameNames("stamina-bar",{start:0,end:5})})}},{key:"generateVisitors",value:function(e){for(var t=0,i=0;i<e;i++,t++){var a=Phaser.Math.Between(20,380),s=Phaser.Math.Between(230,280);if(this.checkIfVisitorWasCreatedAtPositionNear(a,s+250))t<=20&&--i;else{var n=Phaser.Math.Between(1,2),o=new r.SmartVisitor(this,a,s+250,"visitor-"+n+"-resting");o.type=n,o.saveBounty=this.saveBounty,o.bounty=this.saveBounty,Math.random()>=.5&&(o.flipX=!0),this.visitors.add(o),this.add.existing(o),t=0}}}},{key:"checkIfVisitorWasCreatedAtPositionNear",value:function(e,t){return void 0!==this.visitors.getChildren().find((function(i){if(1==(i.x>=e-15&&i.x<=e+15&&i.y>=t-10&&i.y<=t+10))return!0}))}},{key:"getTimerDisplay",value:function(e){var t=Math.floor(e/3600).toString(),i=Math.floor(e%3600/60).toString();return(t=t.padStart(2,"0"))+":"+i.padStart(2,"0")}},{key:"nextLevel",value:function(){var e=this;this.whistleSound.play(),this.visitors.getChildren().forEach((function(e){e.canMakeDecisions=!1,"resting"!==e.state&&"returning"!==e.state&&(e.healthDisplay.visible=!1,e.returnToBlanket())})),this.cameras.main.fade(3e3,0,0,0,!0,(function(t,i){1===i&&(e.audio.stop(),e.scene.start("BeachScene",{dayNumber:++e.dayNumber,score:e.score,cloud1x:Phaser.Math.Between(200,400),cloud2x:Phaser.Math.Between(0,200),cloud1speed:e.cloud1.cloudSpeed,cloud2speed:e.cloud2.cloudSpeed}))}))}},{key:"startDay",value:function(){this.introTimer=this.time.addEvent(this.getIntroTimerConfig())}},{key:"getIntroTimerConfig",value:function(){var e=this;return{delay:1e3,callback:function(){e.tweens.add({targets:e.introTextDisplay,alpha:1,duration:2e3,onComplete:function(){e.runIntro=!0}})}}}},{key:"addClouds",value:function(e){this.cloud1=this.add.image(e.cloud1x,-5,"cloud-1").setOrigin(0),this.cloud2=this.add.image(e.cloud2x,-5,"cloud-2").setOrigin(0),this.cloud1.cloudSpeed=e.cloud1speed,this.cloud2.cloudSpeed=e.cloud2speed,this.cloud1reflection=this.add.image(this.cloud1.x,130,"cloud-1").setOrigin(0).setScale(1,-1),this.cloud1reflection.tint=5592575,this.cloud2reflection=this.add.image(this.cloud2.x,130,"cloud-2").setOrigin(0).setScale(1,-1),this.cloud2reflection.tint=5592575}},{key:"percentage",value:function(e){return Phaser.Math.Between(0,100)<e}}]),e}()},84586:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MenuScene=void 0;var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,i,a){return i&&e(t.prototype,i),a&&e(t,a),t}}();i(47590),t.MenuScene=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{key:"MenuScene"}))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(e,Phaser.Scene),a(e,[{key:"preload",value:function(){this.load.image("bg","assets/background2.png"),this.load.spritesheet("player","assets/dude.png",{frameWidth:16,frameHeight:16}),this.load.spritesheet("visitor-drowning","assets/visitor-2-drowning.png",{frameWidth:16,frameHeight:16}),this.load.spritesheet("player-swim","assets/dude-swimming.png",{frameWidth:16,frameHeight:16}),this.load.spritesheet("visitor-1-resting","assets/visitor-1-resting.png",{frameWidth:16,frameHeight:16}),this.load.spritesheet("visitor-2-resting","assets/visitor-2-resting.png",{frameWidth:16,frameHeight:16}),this.load.spritesheet("visitor-2-walk","assets/visitor-2-walk.png",{frameHeight:16,frameWidth:16}),this.load.spritesheet("visitor-2-drowning-2","assets/visitor-2-drowning-2.png",{frameHeight:16,frameWidth:16}),this.load.spritesheet("player-idle","assets/dude-idle.png",{frameHeight:16,frameWidth:16}),this.load.spritesheet("corn-cart","assets/corn-cart.png",{frameHeight:16,frameWidth:16}),this.load.spritesheet("wave","assets/wave.png",{frameHeight:32,frameWidth:32}),this.load.spritesheet("stamina-bar","assets/stamina-bar.png",{frameHeight:16,frameWidth:16}),this.load.image("donut","assets/donut.png"),this.load.image("blanket","assets/blanket-green.png"),this.load.audio("waves",["assets/ocean-waves.wav"]),this.load.audio("whistle","assets/whistle.wav"),this.textures.exists("sand")||this.textures.generate("sand",{data:["6"],pixelWidth:1,pixelHeight:1}),this.load.image("cloud-1","assets/cloud-1.png"),this.load.image("cloud-2","assets/cloud-2.png"),this.load.image("visitor-lifebar","assets/visitor-lifebar.png"),this.load.bitmapFont("gameFont","assets/fonts/atari-classic.png","assets/fonts/atari-classic.xml")}},{key:"create",value:function(e){var t=this,i=this.sound.add("waves");i.isPlaying||i.play({loop:!0}),this.bg=this.add.image(0,0,"bg").setOrigin(0),this.addClouds(),this.add.bitmapText(160,100,"gameFont","START",18);var a=this.add.bitmapText(145,150,"gameFont","press any key",10);this.input.keyboard.on("keyup",(function(){t.scene.start("BeachScene",{cloud1x:t.cloud1.x,cloud2x:t.cloud2.x,cloud1speed:t.cloud1.cloudSpeed,cloud2speed:t.cloud2.cloudSpeed})})),this.time.addEvent({delay:500,callback:function(){a.visible?a.setVisible(!1):a.setVisible(!0)},repeat:-1})}},{key:"update",value:function(e,t){this.moveCloud(this.cloud1,this.cloud1reflection),this.moveCloud(this.cloud2,this.cloud2reflection)}},{key:"addClouds",value:function(){this.cloud1=this.add.image(300,-5,"cloud-1").setOrigin(0),this.cloud2=this.add.image(150,-5,"cloud-2").setOrigin(0),this.cloud1.cloudSpeed=Phaser.Math.FloatBetween(.2,.5),this.cloud2.cloudSpeed=Phaser.Math.FloatBetween(.2,.5),this.cloud1reflection=this.add.image(300,130,"cloud-1").setOrigin(0).setScale(1,-1),this.cloud1reflection.tint=5592575,this.cloud2reflection=this.add.image(150,130,"cloud-2").setOrigin(0).setScale(1,-1),this.cloud2reflection.tint=5592575}},{key:"moveCloud",value:function(e,t){e.x<-e.width&&(e.x=400+e.width+50,e.cloudSpeed=Phaser.Math.FloatBetween(.2,.5),void 0!==t&&(t.x=e.x)),e.x-=e.cloudSpeed,void 0!==t&&(t.x-=e.cloudSpeed)}}]),e}()}},i={};function a(e){var s=i[e];if(void 0!==s)return s.exports;var r=i[e]={exports:{}};return t[e](r,r.exports,a),r.exports}a.m=t,e=[],a.O=(t,i,s,r)=>{if(!i){var n=1/0;for(c=0;c<e.length;c++){for(var[i,s,r]=e[c],o=!0,h=0;h<i.length;h++)(!1&r||n>=r)&&Object.keys(a.O).every((e=>a.O[e](i[h])))?i.splice(h--,1):(o=!1,r<n&&(n=r));if(o){e.splice(c--,1);var l=s();void 0!==l&&(t=l)}}return t}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[i,s,r]},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={792:0};a.O.j=t=>0===e[t];var t=(t,i)=>{var s,r,[n,o,h]=i,l=0;if(n.some((t=>0!==e[t]))){for(s in o)a.o(o,s)&&(a.m[s]=o[s]);if(h)var c=h(a)}for(t&&t(i);l<n.length;l++)r=n[l],a.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return a.O(c)},i=self.webpackChunkwopr2=self.webpackChunkwopr2||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))})();var s=a.O(void 0,[96],(()=>a(36954)));s=a.O(s)})();